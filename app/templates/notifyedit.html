{% extends "base.html" %}

{% block title %}模型管理{% endblock %}


{% block navbar %}
<section class="content-header">
    <h1>模型管理</h1>
    <ol class="breadcrumb">
        <li><i class="fa fa-dashboard"></i> 当前位置</li>
        <li class="active">模型管理</li>
        <li class="active">模型修改</li>
    </ol>
</section>
{% endblock %}


{% block content %}
<div class="box box-primary">
    <form method="post">
        {{form.hidden_tag()}}
        <div class="box-header with-border">
            {% include 'message.html' %}
        </div>



        <div class="col-md-6">
            <div class="form-group">
                <label>{{form.furnitureID.label}}</label>
                {{form.furnitureID(class_="form-control",placeholder="请输入",readonly = "readonly")}}
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>{{form.uploadUserID.label}}</label>
                {{form.uploadUserID(class_="form-control",placeholder="请输入",readonly = "readonly")}}
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>{{orDic.get(form.organization, "Unknown")}}</label>
                {{form.organization(class_="form-control",placeholder="请输入",readonly = "readonly")}}
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>{{form.furnitureType.label}}</label>
                {{form.furnitureType(id = "furniture-type-select" ,class_="form-control",placeholder="请输入",
                onchange="changeChoices()")}}
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>{{form.furnitureType2.label}}</label>
                {{form.furnitureType2(id = "furniture-type-select2" ,class_="form-control",placeholder="请输入")}}
            </div>
        </div>



        <div class="box-footer">
            <div class="col-md-12 text-right">
                <div class="form-group">
                    <a href="{{ notifylist_url }}" class="btn btn-default">返回</a>
                    {{form.submit(class_="btn btn-primary")}}
                </div>
            </div>
        </div>

    </form>
</div>
{% endblock %}

{% block scripts %}
<script>


    function changeChoices() {
        var selectedValue = $('#furniture-type-select').val();
        var furnitureType2Select = $('#furniture-type-select2');
        furnitureType2Select.empty();
        $.getJSON('/get_updated_choices/' + selectedValue, function (data) {
            $.each(data.choices, function (key, value) {
                furnitureType2Select.append($('<option></option>').attr('value', key).text(value));
            });
        });
    }

    function initPage() {
        slide_value = $(".slider").val() == "" ? 50 : parseInt($(".slider").val());
        $(".slider").slider({
            id: "blue",
            max: 100,
            value: slide_value
        });

        // switch_value = $('#status')[0].checked
        // $('#status').bootstrapSwitch({
        //     state: switch_value,
        //     onText: '生效',
        //     offText: '失效'

        // });

        $(".select2").select2();
    }
</script>
{% endblock %}